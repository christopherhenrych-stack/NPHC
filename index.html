<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NPHC Decision Portal</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
/* ======================= */
/* Global Styles */
body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  background: #fff;
  color: #111;
}
header {
  background: #000;
  padding: 32px 24px;
  text-align: center;
  color: #fff;
}
header img {
  height: 60px;
  margin-bottom: 12px;
}
header h1 {
  font-weight: 800;
  margin: 0;
  font-size: 26px;
}
header .subhead {
  font-size: 14px;
  opacity: 0.85;
  margin-top: 6px;
}
.container {
  max-width: 1100px;
  padding: 40px 16px 80px;
  margin: auto;
}
.card {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 30px;
  margin-bottom: 28px;
  border: 1px solid #ddd;
}
.section-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 12px;
  color: #222;
}
.button-primary {
  background: #000;
  color: #fff;
  border: none;
  padding: 12px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}
.button-primary:hover {
  background: #222;
}
.subtle {
  color: #555;
  font-size: 14px;
}
.metric {
  font-size: 22px;
  font-weight: 700;
  margin-top: 8px;
}
input[type="password"], button {
  font-size: 15px;
}
</style>
</head>
<body>

<header>
  <img src="https://pub-490dff0563064ae89e191bee5e711eaf.r2.dev/NPHC%20of%20HC%20LOGO%20Black.PNG" alt="NPHC Logo">
  <h1>NPHC of Hudson County</h1>
  <div class="subhead">Interactive Decision & Confidential Voting Portal</div>
</header>

<div class="container">

  <section class="card">
    <div class="section-title">Weighted Decision Simulator</div>
    <p class="subtle">Use the sliders below to weight strategic priorities and determine the higher weighted recommendation:</p>

    <label>Community Impact</label><br>
    <input type="range" min="1" max="5" value="5" id="impact"><br><br>

    <label>Inter-Organizational Unity</label><br>
    <input type="range" min="1" max="5" value="3" id="unity"><br><br>

    <label>Feasibility</label><br>
    <input type="range" min="1" max="5" value="4" id="feasibility"><br><br>

    <div class="metric" id="weightedResult"></div>
    <button class="button-primary" onclick="calculate()">Recalculate</button>
  </section>

  <section class="card">
    <div class="section-title">Confidential Preference Submission</div>
    <p class="subtle">Submit your independent choice. Votes will be stored locally and never displayed publicly.</p>
    <button class="button-primary" onclick="submitVote('block')">Vote: Neighborhood Block Party</button>
    <button class="button-primary" onclick="submitVote('unity')">Vote: Unity BBQ</button>
    <p class="metric" id="confirmation"></p>
    <hr>
    <div class="section-title">Admin Access</div>
    <input type="password" id="adminPass" placeholder="Admin Password"><button class="button-primary" onclick="exportVotes()">Download Vote Data</button>
  </section>

  <section class="card">
    <div class="section-title">Print Instructions</div>
    <p class="subtle">Use your browser's print function (File â†’ Print or Ctrl+P) to generate a PDF snapshot.</p>
    <button class="button-primary" onclick="window.print()">Print / Save PDF</button>
  </section>

</div>

<script>
const unityScores = {impact:3, unity:5, feasibility:4};
const blockScores = {impact:5, unity:4, feasibility:3};

function calculate(){
  const wImpact = parseInt(document.getElementById("impact").value);
  const wUnity = parseInt(document.getElementById("unity").value);
  const wFeas = parseInt(document.getElementById("feasibility").value);

  const unityTotal = (unityScores.impact*wImpact) + (unityScores.unity*wUnity) + (unityScores.feasibility*wFeas);
  const blockTotal = (blockScores.impact*wImpact) + (blockScores.unity*wUnity) + (blockScores.feasibility*wFeas);

  document.getElementById("weightedResult").innerText =
    blockTotal > unityTotal ? "Higher Weighted: Neighborhood Block Party" : "Higher Weighted: Unity BBQ";
}

let votes = [];

function submitVote(choice){
  votes.push({choice, timestamp: new Date().toISOString()});
  localStorage.setItem("nphcVotes", JSON.stringify(votes));
  document.getElementById("confirmation").innerText = "Vote submitted successfully.";
}

function exportVotes(){
  const admin = document.getElementById("adminPass").value;
  if(admin !== "NPHC2026"){ alert("Unauthorized"); return; }
  const data = localStorage.getItem("nphcVotes") || "[]";
  const blob = new Blob([data], {type: "application/json"});
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "NPHC_Votes.json";
  link.click();
}
</script>
</body>
</html>
